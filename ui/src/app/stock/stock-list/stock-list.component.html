<paper title="Estoque" materialIconsTitle="inventory_2">
  <div class="header">
    <div class="search">
      <input type="text" class="search-input" placeholder="Nome do produto...">
      <button class="search-button">
        <span class="material-icons">search</span>
        <span>Procurar</span>
      </button>
    </div>
    <button class="header-button-add" (click)="goToStockForm()">
      <span class="material-icons">add</span>
      <span>Adicionar</span>
    </button>
  </div>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Unidade</th>
        <th>Categoria</th>
        <th>Criado em</th>
        <th>Atualizado em</th>
        <th>Deletado em</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of list.data">
        <td>{{ product.id }} </td>
        <td class="text-limit">{{ product.name }} </td>
        <td class="text-limit">{{ product.description }} </td>
        <td>{{ findUnitNameById(product.unitId) }} </td>
        <td>{{ findCategoryNameById(product.categoryId) }} </td>
        <td>{{ product.createdAt | date }} </td>
        <td>{{ product.updatedAt ? (product.updatedAt | date) : '-' }} </td>
        <td>{{ product.deletedAt ? (product.deletedAt | date) : '-' }} </td>
        <td>
          <div class="action-buttons">
            <button>
              <span class="material-icons">edit</span>
            </button>
            <button>
              <span class="material-icons">delete</span>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="messages">
    <ul *ngIf="list.messages.errors.length > 0" class="alert error">
      <li *ngFor="let msg of list.messages.errors">{{ msg }}</li>
    </ul>
    <ul *ngIf="list.messages.info.length > 0" class="alert info">
      <li *ngFor="let msg of list.messages.info">{{ msg }}</li>
    </ul>
  </div>


  <ul *ngIf="showPages()" class="pagination">
    <li class="previous">
      <span class="material-icons">skip_previous</span>
      <span>Anterior</span>
    </li>
    <li class="pages" *ngFor="let index of getPageCountItems()" [ngClass]="{
        'pagination-actual-style' :isActualStyle(index)
       }">
      {{ index }}
    </li>
    <li class="next">
      <span>Próximo</span>
      <span class="material-icons">skip_next</span>
    </li>
  </ul>
</paper>